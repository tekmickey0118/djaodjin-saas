<div id="card-use">
<fieldset>
    <legend>Credit Card Information</legend>
    <div v-show="haveCardData" v-cloak>
        <button type="button" @click="clearCardData()" v-show="!updateCard">Update</button>
        <div>
            <dl>
                  <dt>card</dt>
                  <dd>[[savedCard.last4]]</dd>
            </dl>
            <dl>
                  <dt>expires</dt>
                  <dd>[[savedCard.expDate]]</dd>
            </dl>
        </div>
    </div>
    <div v-show="!haveCardData || updateCard" v-cloak>
      <!-- BE CAREFULL: Do not add name="" to these <input> nodes, else
           values will hit the server and break PCI compliance. -->
      <div :class="inputClass('cardNumber')">
            <label for="card-number">Card Number</label>
            <input id="card-number" v-model="cardNumber"
                   type="text" size="16" placeholder="Card number"
                   autocomplete="off" />
      </div>
      <div :class="inputClass('cardExp')">
            <label>Expiration</label>
            <input id="card-exp-month" v-model="cardExpMonth"
                   type="text" maxlength="2" size="2" placeholder="MM" />
            <input id="card-exp-year" v-model="cardExpYear"
                   type="text" maxlength="4" size="4" placeholder="YYYY" />
      </div>
      <div :class="inputClass('cardCvc')">
            <label>Security Code</label>
            <input id="card-cvc" v-model="cardCvc"
                   type="text" maxlength="3" size="3" placeholder="CVC"
                   autocomplete="off" />
      </div>
      <legend>Billing Address</legend>
      <div :class="inputClass('name')">
        <input name="card_name" type="text" placeholder="Name"
            value="{{organization.full_name}}"
            v-model="name">
      </div>
      <div :class="inputClass('addressLine1')">
        <input name="card_address_line1" type="text" placeholder="Address line"
            value="{{organization.street_address}}"
            v-model="addressLine1">
      </div>
      <div :class="inputClass('addressCity')">
        <input name="card_city" type="text" placeholder="City"
            value="{{organization.location}}"
            v-model="addressCity">
      </div>
      <div :class="inputClass('addressZip')">
        <input name="card_address_zip" type="text" placeholder="ZIP"
            value="{{organization.postal_code}}"
            v-model="addressZip">
      </div>
      <div :class="inputClass('addressCountry')">
        <select name="country"
            data-init="{{organization.country}}"
            v-model="addressCountry" @change="addressRegion = ''">
            <option value="">select country</option>
            <option :value="code" v-for="(country, code) in countries">[[country]]</option>
        </select>
      </div>
      <div :class="inputClass('addressRegion')">
        <select name="region"
            data-init="{{organization.region}}"
            v-model="addressRegion" v-show="addressCountry == 'US' || addressCountry == 'CA'">
            <option value="">select state</option>
            <option :value="code" v-for="(region, code) in regions[addressCountry]">[[region]]</option>
        </select>
        <input v-model="addressRegion" type="text" placeholder="Region" v-show="addressCountry != 'US' && addressCountry != 'CA'">
      </div>
    </div>
</fieldset>
</div> <!-- #card-use -->
